<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <uSeoToolkitScriptManagerFilesPath>$(MSBuildThisFileDirectory)..\App_Plugins\uSeoToolkit\**\*.*</uSeoToolkitScriptManagerFilesPath>
	    <uSeoToolkitScriptManagerViewsPath>$(MSBuildThisFileDirectory)..\Views\ScriptManager\**\*.*</uSeoToolkitScriptManagerViewsPath>
    </PropertyGroup>

    <Target Name="CopyuSeoToolkitScriptManagerAssets" BeforeTargets="Build">
        <ItemGroup>
            <uSeoToolkitScriptManagerContentFiles Include="$(uSeoToolkitScriptManagerFilesPath)" />
        </ItemGroup>
        <Message Text="Copying uSeoToolkit.ScriptManager files: $(uSeoToolkitScriptManagerFilesPath) - #@(uSeoToolkitScriptManagerContentFiles->Count()) files"  Importance="high" />
        <Copy
            SourceFiles="@(uSeoToolkitScriptManagerContentFiles)"
            DestinationFiles="@(uSeoToolkitScriptManagerContentFiles->'$(MSBuildProjectDirectory)\App_Plugins\uSeoToolkit\%(RecursiveDir)%(Filename)%(Extension)')"
            SkipUnchangedFiles="true" />
    </Target>

	<Target Name="CopyuSeoToolkitScriptManagerViews" BeforeTargets="Build">
		<ItemGroup>
			<uSeoToolkitScriptManagerViews Include="$(uSeoToolkitScriptManagerViewsPath)" />
		</ItemGroup>
		<Message Text="Copying uSeoToolkit.ScriptManager views: $(uSeoToolkitScriptManagerViewsPath) - #@(uSeoToolkitScriptManagerViews->Count()) files"  Importance="high" />
		<Copy
			SourceFiles="@(uSeoToolkitScriptManagerViews)"
			DestinationFiles="@(uSeoToolkitScriptManagerViews->'$(MSBuildProjectDirectory)\Views\ScriptManager\%(RecursiveDir)%(Filename)%(Extension)')"
			SkipUnchangedFiles="true" />
	</Target>

    <Target Name="ClearuSeoToolkitScriptManagerAssets" BeforeTargets="Clean">
        <ItemGroup>
            <uSeoToolkitScriptManagerDir Include="$(MSBuildProjectDirectory)\App_Plugins\uSeoToolkit\" />
        </ItemGroup>
        <Message Text="Clear old uSeoToolkit.ScriptManager data"  Importance="high" />
        <RemoveDir Directories="@(uSeoToolkitScriptManagerDir)"  />
    </Target>

	<Target Name="ClearuSeoToolkitScriptManagerViews" BeforeTargets="Clean">
		<ItemGroup>
			<uSeoToolkitScriptManagerDir Include="$(MSBuildProjectDirectory)\Views\ScriptManager\" />
		</ItemGroup>
		<Message Text="Clear old uSeoToolkit.ScriptManager views"  Importance="high" />
		<RemoveDir Directories="@(uSeoToolkitScriptManagerDir)"  />
	</Target>

</Project>
